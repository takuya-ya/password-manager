# パスワードマネージャー
パスワードを管理するパスワードマネージャーを作成しました。

## 前提条件
このパスワードマネージャーを使用するには、以下のソフトウェアが必要です：

- **macOS** (Bash 3.2以降対応)
- **Homebrew** (パッケージマネージャー)
- **GnuPG (GPG)** (暗号化ライブラリ)

## セットアップ手順

### 1. Homebrew のインストール
macOSのパッケージマネージャであるHomebrewをインストールします。

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

インストール後、パスを設定します：
```bash
echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >> ~/.zprofile
eval "$(/opt/homebrew/bin/brew shellenv)"
```

### 2. GPG のインストール
Homebrewを使用してGnuPG (GPG) をインストールします。

```bash
brew install gnupg
```

### 3. インストールの確認
GPGが正しくインストールされているか確認します。

```bash
gpg --version
```

バージョン情報が表示されれば、インストールは完了です。

## 使用方法

### スクリプトの実行
```bash
./password_manager.sh
```

### 機能説明
1. メニューが表示されるので、希望のメニューを選択してください。
2. **Add Password**: サービス名、ユーザー名、パスワードを入力して下さい。
   入力内容を暗号化する為、パスフレーズの設定が求められます。尚、復帰処理が未実装の為、パスフレーズを紛失した場合、情報が取得できなくなります。パスフレーズの管理には十分にご注意ください。
3. **Get Password**: 情報を取得したいサービス名を入力して下さい。暗号化ファイル復号化の為、パスフレーズが求められます。
4. **Exit**: パスワードマネージャーを終了します。
5. 復号化の為に入力したパスフレーズは、一定時間キャッシュされる為、その間は入力がスキップされます。

## 技術仕様
- **暗号化方式**: GPG対称暗号化
- **対応シェル**: Bash 3.2以降 (macOS標準対応)
- **データ形式**: コロン区切りテキスト
- **バリデーション**: 入力値検証とエラーハンドリング

## 注意事項
1. **Bashバージョン**: `bash` 3.2以降での動作を確認済みです。古いBashバージョンでも動作するよう配慮されています。
2. **パスフレーズ管理**: パスフレーズを紛失した場合、保存した情報が取得できなくなります。パスフレーズの管理には十分にご注意ください。
3. **セキュリティ**: 暗号化ファイル（.gpg）とエラーログ（error.txt）が作業ディレクトリに作成されます。
4. **権限**: スクリプトに実行権限が必要です：
   ```bash
   chmod +x password_manager.sh
   ```

## トラブルシューティング

### GPGコマンドが見つからない場合
```bash
# エラー例: gpg: command not found
# 解決策: GPGをインストール
brew install gnupg
```

### パスフレーズエラー
```bash
# GPGエージェントのリセット
gpgconf --kill gpg-agent
```

### 権限エラー
```bash
# スクリプトに実行権限を付与
chmod +x password_manager.sh
```
